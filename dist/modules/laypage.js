/*!
 * =====================================================
 * iui v1.0.0 ()
 * =====================================================
 */

!function(){"use strict";var e=document,t="getElementById",a="getElementsByTagName",i=function(e){var t=this;t.config=e||{},t.config.index=++n.index,t.render(!0)};i.prototype.type=function(){var e=this.config;if("object"==typeof e.elem)return void 0===e.elem.length?2:3},i.prototype.view=function(){var e=this.config,t=e.groups="groups"in e?0|e.groups:5;e.layout="object"==typeof e.layout?e.layout:["prev","page","next"],e.count=0|e.count,e.curr=0|e.curr||1,e.limits="object"==typeof e.limits?e.limits:[10,20,30,40,50],e.limit=0|e.limit||10,e.pages=Math.ceil(e.count/e.limit)||1,e.curr>e.pages&&(e.curr=e.pages),t<0?t=1:t>e.pages&&(t=e.pages),e.prev="prev"in e?e.prev:"&#x4E0A;&#x4E00;&#x9875;",e.next="next"in e?e.next:"&#x4E0B;&#x4E00;&#x9875;";var a=e.pages>t?Math.ceil((e.curr+(t>1?1:0))/(t>0?t:1)):1,i={prev:e.prev?'<a href="javascript:;" class="iui-laypage-prev'+(1==e.curr?" iui-disabled":"")+'" data-page="'+(e.curr-1)+'">'+e.prev+"</a>":"",page:function(){var i=[];if(e.count<1)return"";a>1&&!1!==e.first&&0!==t&&i.push('<a href="javascript:;" class="iui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(e.first||1)+"</a>");var n=Math.floor((t-1)/2),r=a>1?e.curr-n:1,u=a>1?function(){var a=e.curr+(t-n-1);return a>e.pages?e.pages:a}():t;for(u-r<t-1&&(r=u-t+1),!1!==e.first&&r>2&&i.push('<span class="iui-laypage-spr">&#x2026;</span>');r<=u;r++)r===e.curr?i.push('<span class="iui-laypage-curr"><em class="iui-laypage-em" '+(/^#/.test(e.theme)?'style="background-color:'+e.theme+';"':"")+"></em><em>"+r+"</em></span>"):i.push('<a href="javascript:;" data-page="'+r+'">'+r+"</a>");return e.pages>t&&e.pages>u&&!1!==e.last&&(u+1<e.pages&&i.push('<span class="iui-laypage-spr">&#x2026;</span>'),0!==t&&i.push('<a href="javascript:;" class="iui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+e.pages+'">'+(e.last||e.pages)+"</a>")),i.join("")}(),next:e.next?'<a href="javascript:;" class="iui-laypage-next'+(e.curr==e.pages?" iui-disabled":"")+'" data-page="'+(e.curr+1)+'">'+e.next+"</a>":"",count:'<span class="iui-laypage-count">共 '+e.count+" 条</span>",limit:function(){var t=['<span class="iui-laypage-limits"><select lay-ignore>'];return iui.each(e.limits,function(a,i){t.push('<option value="'+i+'"'+(i===e.limit?"selected":"")+">"+i+" 条/页</option>")}),t.join("")+"</select></span>"}(),skip:['<span class="iui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+e.curr+'" class="iui-input">','&#x9875;<button type="button" class="iui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")};return['<div class="iui-box iui-laypage iui-laypage-'+(e.theme?/^#/.test(e.theme)?"molv":e.theme:"default")+'" id="iui-laypage-'+e.index+'">',function(){var t=[];return iui.each(e.layout,function(e,a){i[a]&&t.push(i[a])}),t.join("")}(),"</div>"].join("")},i.prototype.jump=function(e,t){if(e){var i=this,r=i.config,u=e.children,s=e[a]("button")[0],p=e[a]("input")[0],c=e[a]("select")[0],o=function(){var e=0|p.value.replace(/\s|\D/g,"");e&&(r.curr=e,i.render())};if(t)return o();for(var l=0,g=u.length;l<g;l++)"a"===u[l].nodeName.toLowerCase()&&n.on(u[l],"click",function(){var e=0|this.getAttribute("data-page");e<1||e>r.pages||(r.curr=e,i.render())});c&&n.on(c,"change",function(){var e=this.value;r.curr*e>r.count&&(r.curr=Math.ceil(r.count/e)),r.limit=e,i.render()}),s&&n.on(s,"click",function(){o()})}},i.prototype.skip=function(e){if(e){var t=this,i=e[a]("input")[0];i&&n.on(i,"keyup",function(a){var i=this.value,n=a.keyCode;/^(37|38|39|40)$/.test(n)||(/\D/.test(i)&&(this.value=i.replace(/\D/,"")),13===n&&t.jump(e,!0))})}},i.prototype.render=function(a){var i=this,n=i.config,r=i.type(),u=i.view();2===r?n.elem&&(n.elem.innerHTML=u):3===r?n.elem.html(u):e[t](n.elem)&&(e[t](n.elem).innerHTML=u),n.jump&&n.jump(n,a);var s=e[t]("iui-laypage-"+n.index);i.jump(s),n.hash&&!a&&(location.hash="!"+n.hash+"="+n.curr),i.skip(s)};var n={render:function(e){return new i(e).index},index:iui.laypage?iui.laypage.index+1e4:0,on:function(e,t,a){return e.attachEvent?e.attachEvent("on"+t,function(t){t.target=t.srcElement,a.call(e,t)}):e.addEventListener(t,a,!1),this}}}();